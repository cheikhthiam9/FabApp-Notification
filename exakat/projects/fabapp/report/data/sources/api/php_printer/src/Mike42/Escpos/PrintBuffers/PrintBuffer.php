<span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><a name="l1" /></span><span style="color: #FF8000">/**<br /><a name="l2" />&nbsp;*&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;escpos-php:&nbsp;PHP&nbsp;receipt&nbsp;printer&nbsp;library&nbsp;for&nbsp;use&nbsp;with<br /><a name="l3" />&nbsp;*&nbsp;ESC/POS-compatible&nbsp;thermal&nbsp;and&nbsp;impact&nbsp;printers.<br /><a name="l4" />&nbsp;*<br /><a name="l5" />&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2014-16&nbsp;Michael&nbsp;Billington&nbsp;&lt;&nbsp;michael.billington@gmail.com&nbsp;&gt;,<br /><a name="l6" />&nbsp;*&nbsp;incorporating&nbsp;modifications&nbsp;by&nbsp;others.&nbsp;See&nbsp;CONTRIBUTORS.md&nbsp;for&nbsp;a&nbsp;full&nbsp;list.<br /><a name="l7" />&nbsp;*<br /><a name="l8" />&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;See&nbsp;LICENSE.md<br /><a name="l9" />&nbsp;*&nbsp;for&nbsp;details.<br /><a name="l10" />&nbsp;*/<br /><a name="l11" /><br /><a name="l12" /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Mike42</span><span style="color: #007700">\</span><span style="color: #0000BB">Escpos</span><span style="color: #007700">\</span><span style="color: #0000BB">PrintBuffers</span><span style="color: #007700">;<br /><a name="l13" /><br /><a name="l14" />use&nbsp;</span><span style="color: #0000BB">Mike42</span><span style="color: #007700">\</span><span style="color: #0000BB">Escpos</span><span style="color: #007700">\</span><span style="color: #0000BB">Printer</span><span style="color: #007700">;<br /><a name="l15" /><br /><a name="l16" /></span><span style="color: #FF8000">/**<br /><a name="l17" />&nbsp;*&nbsp;Print&nbsp;buffers&nbsp;manage&nbsp;newlines&nbsp;and&nbsp;character&nbsp;encoding&nbsp;for&nbsp;the&nbsp;target&nbsp;printer.<br /><a name="l18" />&nbsp;*&nbsp;They&nbsp;are&nbsp;used&nbsp;as&nbsp;a&nbsp;swappable&nbsp;component:&nbsp;text&nbsp;or&nbsp;image-based&nbsp;output.<br /><a name="l19" />&nbsp;*<br /><a name="l20" />&nbsp;*&nbsp;-&nbsp;Text&nbsp;output&nbsp;(EscposPrintBuffer)&nbsp;is&nbsp;the&nbsp;fast&nbsp;default,&nbsp;and&nbsp;is&nbsp;recommended&nbsp;for<br /><a name="l21" />&nbsp;*&nbsp;&nbsp;&nbsp;most&nbsp;people,&nbsp;as&nbsp;the&nbsp;text&nbsp;output&nbsp;can&nbsp;be&nbsp;more&nbsp;directly&nbsp;manipulated&nbsp;by&nbsp;ESC/POS<br /><a name="l22" />&nbsp;*&nbsp;&nbsp;&nbsp;commands.<br /><a name="l23" />&nbsp;*&nbsp;-&nbsp;Image&nbsp;output&nbsp;(ImagePrintBuffer)&nbsp;is&nbsp;designed&nbsp;to&nbsp;accept&nbsp;more&nbsp;encodings&nbsp;than&nbsp;the<br /><a name="l24" />&nbsp;*&nbsp;&nbsp;&nbsp;physical&nbsp;printer&nbsp;supports,&nbsp;by&nbsp;rendering&nbsp;the&nbsp;text&nbsp;to&nbsp;small&nbsp;images&nbsp;on-the-fly.<br /><a name="l25" />&nbsp;*&nbsp;&nbsp;&nbsp;This&nbsp;takes&nbsp;a&nbsp;lot&nbsp;more&nbsp;CPU&nbsp;than&nbsp;sending&nbsp;text,&nbsp;but&nbsp;is&nbsp;necessary&nbsp;for&nbsp;some&nbsp;users.<br /><a name="l26" />&nbsp;*&nbsp;-&nbsp;If&nbsp;your&nbsp;use&nbsp;case&nbsp;fits&nbsp;outside&nbsp;these,&nbsp;then&nbsp;a&nbsp;further&nbsp;speed/flexibility&nbsp;trade-off<br /><a name="l27" />&nbsp;*&nbsp;&nbsp;&nbsp;can&nbsp;be&nbsp;made&nbsp;by&nbsp;printing&nbsp;directly&nbsp;from&nbsp;generated&nbsp;HTML&nbsp;or&nbsp;PDF.<br /><a name="l28" />&nbsp;*/<br /><a name="l29" /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">PrintBuffer<br /><a name="l30" /></span><span style="color: #007700">{<br /><a name="l31" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br /><a name="l32" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Cause&nbsp;the&nbsp;buffer&nbsp;to&nbsp;send&nbsp;any&nbsp;partial&nbsp;input&nbsp;and&nbsp;wait&nbsp;on&nbsp;a&nbsp;newline.<br /><a name="l33" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;printer&nbsp;is&nbsp;already&nbsp;on&nbsp;a&nbsp;new&nbsp;line,&nbsp;this&nbsp;does&nbsp;nothing.<br /><a name="l34" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><a name="l35" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">flush</span><span style="color: #007700">();<br /><a name="l36" /><br /><a name="l37" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br /><a name="l38" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Used&nbsp;by&nbsp;Escpos&nbsp;to&nbsp;check&nbsp;if&nbsp;a&nbsp;printer&nbsp;is&nbsp;set.<br /><a name="l39" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><a name="l40" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">getPrinter</span><span style="color: #007700">();<br /><a name="l41" /><br /><a name="l42" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br /><a name="l43" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Used&nbsp;by&nbsp;Escpos&nbsp;to&nbsp;hook&nbsp;up&nbsp;one-to-one&nbsp;link&nbsp;between&nbsp;buffers&nbsp;and&nbsp;printers.<br /><a name="l44" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br /><a name="l45" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;Escpos&nbsp;$printer&nbsp;New&nbsp;printer<br /><a name="l46" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><a name="l47" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">setPrinter</span><span style="color: #007700">(</span><span style="color: #0000BB">Printer&nbsp;$printer&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /><a name="l48" /><br /><a name="l49" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br /><a name="l50" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Accept&nbsp;UTF-8&nbsp;text&nbsp;for&nbsp;printing.<br /><a name="l51" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br /><a name="l52" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;string&nbsp;$text&nbsp;Text&nbsp;to&nbsp;print<br /><a name="l53" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><a name="l54" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">writeText</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br /><a name="l55" /><br /><a name="l56" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br /><a name="l57" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Accept&nbsp;8-bit&nbsp;text&nbsp;in&nbsp;the&nbsp;current&nbsp;encoding&nbsp;and&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;buffer.<br /><a name="l58" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br /><a name="l59" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;string&nbsp;$text&nbsp;Text&nbsp;to&nbsp;print,&nbsp;already&nbsp;the&nbsp;target&nbsp;encoding.<br /><a name="l60" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><a name="l61" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">writeTextRaw</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br /><a name="l62" />}<br /><a name="l63" /></span>
</span>