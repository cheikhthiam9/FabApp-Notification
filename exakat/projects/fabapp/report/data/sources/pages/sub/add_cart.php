<span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><a name="l1" />&nbsp;&nbsp;&nbsp;&nbsp;session_start</span><span style="color: #007700">();<br /><a name="l2" />&nbsp;<br /><a name="l3" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//check&nbsp;if&nbsp;product&nbsp;is&nbsp;already&nbsp;in&nbsp;the&nbsp;cart<br /><a name="l4" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(!</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'cart_array'</span><span style="color: #007700">])){<br /><a name="l5" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'cart_array'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]);<br /><a name="l6" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'co_quantity'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><a name="l7" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><a name="l8" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'co_price'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">((float)(((</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'w'</span><span style="color: #007700">]*</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'h'</span><span style="color: #007700">])&nbsp;*&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'p'</span><span style="color: #007700">])*&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'co_quantity'</span><span style="color: #007700">][</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'co_quantity'</span><span style="color: #007700">])-</span><span style="color: #0000BB">1</span><span style="color: #007700">]+</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'co_price'</span><span style="color: #007700">]),&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><a name="l9" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><a name="l10" />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><a name="l11" />&nbsp;&nbsp;&nbsp;&nbsp;else{<br /><a name="l12" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'error_msg'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'Product&nbsp;already&nbsp;in&nbsp;cart'</span><span style="color: #007700">;<br /><a name="l13" />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><a name="l14" />&nbsp;<br /><a name="l15" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Location:&nbsp;/pages/sheet_goods.php'</span><span style="color: #007700">);<br /><a name="l16" /></span><span style="color: #0000BB">?&gt;</span>
</span>